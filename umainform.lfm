object MainForm: TMainForm
  Left = 59
  Height = 800
  Top = 24
  Width = 300
  BorderStyle = bsSizeToolWin
  Caption = 'Menu'
  ClientHeight = 800
  ClientWidth = 300
  Color = 16053492
  Constraints.MaxHeight = 800
  FormStyle = fsSystemStayOnTop
  OnCreate = FormCreate
  ShowInTaskBar = stNever
  LCLVersion = '1.6.0.4'
  object MainGrid: TDBGrid
    Left = 20
    Height = 800
    Top = 0
    Width = 215
    Align = alClient
    AutoFillColumns = True
    BorderStyle = bsNone
    Columns = <    
      item
        SizePriority = 1000
        Title.Caption = 'name'
        Width = 215
        FieldName = 'name'
      end>
    DataSource = MenuItemDS
    DefaultRowHeight = 20
    FixedCols = 0
    Flat = True
    Options = [dgTabs, dgRowSelect, dgAlwaysShowSelection, dgConfirmDelete, dgCancelOnExit, dgAutoSizeColumns, dgDisableDelete, dgDisableInsert]
    ParentColor = True
    ReadOnly = True
    Scrollbars = ssAutoHorizontal
    TabOrder = 0
    OnCellClick = MainGridCellClick
    OnKeyDown = MainGridKeyDown
    OnKeyPress = MainGridKeyPress
  end
  object MainGridShortCut: TDBGrid
    Left = 235
    Height = 800
    Top = 0
    Width = 65
    Align = alRight
    BorderStyle = bsNone
    Columns = <    
      item
        Alignment = taCenter
        Font.Color = clSilver
        Title.Caption = 'S'
        Width = 20
        FieldName = 'shortcut'
      end    
      item
        Alignment = taCenter
        Title.Caption = 'M'
        Width = 20
        FieldName = 'subMenuChar'
      end>
    DataSource = MenuItemDS
    DefaultRowHeight = 20
    FixedCols = 0
    Flat = True
    Options = [dgTabs, dgRowSelect, dgAlwaysShowSelection, dgConfirmDelete, dgCancelOnExit, dgAutoSizeColumns, dgDisableDelete, dgDisableInsert]
    ParentColor = True
    ReadOnly = True
    Scrollbars = ssAutoVertical
    TabOrder = 1
    OnCellClick = MainGridCellClick
    OnKeyDown = MainGridKeyDown
    OnKeyPress = MainGridKeyPress
  end
  object MainGridIcon: TDBGrid
    Left = 0
    Height = 800
    Top = 0
    Width = 20
    Align = alLeft
    AutoFillColumns = True
    BorderStyle = bsNone
    Columns = <    
      item
        Title.Caption = 'ML'
        Width = 20
        FieldName = 'icon'
      end>
    DataSource = MenuItemDS
    DefaultRowHeight = 20
    FixedCols = 0
    Flat = True
    Options = [dgTabs, dgRowSelect, dgAlwaysShowSelection, dgConfirmDelete, dgCancelOnExit, dgAutoSizeColumns, dgDisableDelete, dgDisableInsert]
    ParentColor = True
    ReadOnly = True
    Scrollbars = ssAutoHorizontal
    TabOrder = 2
    OnCellClick = MainGridCellClick
    OnDrawColumnCell = MainGridDrawColumnCell
    OnKeyDown = MainGridKeyDown
    OnKeyPress = MainGridKeyPress
  end
  object MenuDS: TDataSource
    AutoEdit = False
    DataSet = SQLMenu
    left = 32
    top = 16
  end
  object MenuDB: TSQLite3Connection
    Connected = False
    LoginPrompt = False
    DatabaseName = '/tmp/debugMenu.db'
    KeepConnection = True
    Transaction = SQLTransaction
    Options = []
    left = 32
    top = 200
  end
  object SQLMenu: TSQLQuery
    FieldDefs = <    
      item
        Name = 'id'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'upMenuId'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'name'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'cmd'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'path'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'load'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'reloadInterval'
        DataType = ftString
        Precision = -1
        Size = 255
      end>
    AfterInsert = SQLMenuAfterInsert
    AfterScroll = SQLMenuAfterScroll
    Database = MenuDB
    Transaction = SQLTransaction
    SQL.Strings = (
      'select Id, UpMenuId, Name, Cmd, Path, Load, ReloadInterval from menu'
    )
    Options = []
    Params = <>
    left = 32
    top = 259
  end
  object SQLMenuItems: TSQLQuery
    PacketRecords = -1
    FieldDefs = <    
      item
        Name = 'id'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'menuId'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'itemType'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'name'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'search'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'icon'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'shortcut'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'cmd'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuPath'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuCmd'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuReloadInterval'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'subMenuId'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'subMenuChar'
        DataType = ftString
        Precision = -1
        Size = 255
      end>
    Database = MenuDB
    Transaction = SQLTransaction
    SQL.Strings = (
      'select id, menuId, itemType, name, search, icon, shortcut,'
      'cmd, subMenuPath, subMenuCmd, subMenuReloadInterval, subMenuId, subMenuChar'
      'from menuItem'
      'where menuId = :id'
      'Order by id'
    )
    Options = []
    Params = <    
      item
        DataType = ftAutoInc
        Name = 'Id'
        ParamType = ptInput
        Size = 4
      end>
    DataSource = MenuDS
    left = 32
    top = 315
  end
  object SQLTransaction: TSQLTransaction
    Active = False
    Database = MenuDB
    Options = []
    left = 32
    top = 136
  end
  object acList: TActionList
    left = 104
    top = 16
    object acDebug: TAction
      Caption = 'acDebug'
      OnExecute = acDebugExecute
      ShortCut = 49220
    end
    object acRun: TAction
      Caption = 'acRun'
      OnExecute = acRunExecute
      ShortCut = 13
    end
  end
  object MenuItemDS: TDataSource
    AutoEdit = False
    DataSet = SQLMenuItems
    left = 32
    top = 80
  end
  object AsyncProcess1: TAsyncProcess
    Active = False
    Options = []
    Priority = ppNormal
    StartupOptions = []
    ShowWindow = swoNone
    WindowColumns = 0
    WindowHeight = 0
    WindowLeft = 0
    WindowRows = 0
    WindowTop = 0
    WindowWidth = 0
    FillAttribute = 0
    left = 99
    top = 80
  end
  object Process1: TProcess
    Active = False
    Options = []
    Priority = ppNormal
    StartupOptions = []
    ShowWindow = swoNone
    WindowColumns = 0
    WindowHeight = 0
    WindowLeft = 0
    WindowRows = 0
    WindowTop = 0
    WindowWidth = 0
    FillAttribute = 0
    left = 104
    top = 149
  end
  object SQLMenuItemsShortcut: TSQLQuery
    PacketRecords = -1
    FieldDefs = <    
      item
        Name = 'id'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'menuId'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'itemType'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'name'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'search'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'icon'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'shortcut'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'cmd'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuPath'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuCmd'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'subMenuReloadInterval'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'subMenuId'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'subMenuChar'
        DataType = ftString
        Precision = -1
        Size = 255
      end>
    Database = MenuDB
    Transaction = SQLTransaction
    SQL.Strings = (
      'select id, menuId, itemType, name, search, icon, shortcut,'
      'cmd, subMenuPath, subMenuCmd, subMenuReloadInterval, subMenuId, subMenuChar'
      'from menuItem'
      'where menuId = :idMenu and shortcut = :shortcut'
      'Order by id'
    )
    Options = []
    Params = <    
      item
        DataType = ftUnknown
        Name = 'idMenu'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'shortcut'
        ParamType = ptInput
      end>
    left = 32
    top = 376
  end
end
